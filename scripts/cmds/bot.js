const fs = require("fs-extra");
const moment = require("moment-timezone");
const crypto = require("crypto");


const secretKey = "B4Yj1D"; 


function encrypt(text) {
  const cipher = crypto.createCipher('aes-256-ctr', secretKey);
  let encrypted = cipher.update(text, 'utf8', 'hex');
  encrypted += cipher.final('hex');
  return encrypted;
}


function decrypt(text) {
  const decipher = crypto.createDecipher('aes-256-ctr', secretKey);
  let decrypted = decipher.update(text, 'hex', 'utf8');
  decrypted += decipher.final('utf8');
  return decrypted;
}


const config = Object.freeze({
  name: "bot",
  version: "1.0",
  author: encrypt("BaYjid"), 
  countDown: 5,
  role: 0,
  description: "Bot",
  category: "no prefix",
  guide: {
    en: "{p}{n}",
  },
});

module.exports = {
  config,

  onStart: async function ({}) {
    
    if (decrypt(config.author) !== "BaYjid") {
      console.error("Invalid configuration: Author must be 'BaYjid'. Bot will not work.");
      process.exit(1);
    }
  },

  onChat: async function ({ api, event, args, Threads, usersData }) {
    const data = await usersData.get(event.senderID);
    const name = data.name;
    const { threadID, messageID } = event;
    const time = moment.tz("Asia/Dhaka").format("HH:mm:ss L");

    const messages = [
      " ржЖржорж░рж╛ ржжрж╛рж░рзБржг рж░ржХржорзЗрж░ ржжрзБржГржЦ рж╕рж╛ржЬрж╛ржЗ ржкрзНрж░ржмрж▓ ржнрж╛рж▓рзЛржмрзЗрж╕рзЗ..!ЁЯШЕЁЯТФ",
      "- ржЖржорж┐ ржпржЦржи ржПржХржЯрзБ ржЦрзБрж╢рж┐ рж╣ржУрзЯрж╛рж░ ржЪрзЗрж╖рзНржЯрж╛ ржХрж░рж┐, рждржЦржи ржжрзБржГржЦ ржПрж╕рзЗ ржЖржмрж╛рж░ ржЖржорж╛ржХрзЗ ржЖржБржХрзЬрзЗ ржзрж░рзЗ ЁЯШЕЁЯТФ",
      " ┬░┬░ржЕржирзБржнрзВрждрж┐ ржкрзНрж░ржХрж╛рж╢ ржХрж░рждрзЗ ржирзЗржЗ ржорж╛ржирзБрж╖ ржирж╛ржЯржХ ржоржирзЗ ржХрж░рзЗ ржоржЬрж╛ ржирзЗрзЯ┬░..! ЁЯШеЁЯТФЁЯеА",
      " ржХрж┐ржЫрзБ ржорж╛ржирзБрж╖ рж╕рзНржмрж▓рзНржк рж╕ржорзЯрзЗрж░ ржЬржирзНржп ржЖржорж╛ржжрзЗрж░ ржЬрзАржмржирзЗ ржЖрж╕рзЗредржХрж┐ржирзНрждрзБ ржжрзАрж░рзНржШ рж╕ржоржпрж╝ рж╕рзНржорзГрждрж┐ рж░рзЗржЦрзЗ ржпрж╛ржпрж╝..!ЁЯЩВЁЯТФ",
      "ЁЭЩ┤ЁЭЩ╕ ЁЭЩ┐ЁЭЩ░ЁЭЩ╢ЁЭЩ╛ЁЭЩ╗ ЁЭЩ┤ЁЭЪГЁЭЩ╛ ЁЭЩ│ЁЭЩ░ЁЭЩ║ЁЭЩ╛ЁЭЪВ ЁЭЩ║ЁЭЩ┤ЁЭЩ╜?",
      " ЁЭЩ╝ЁЭЪИЁЭЩ▒ ЁЭЩ╕ ЁЭЩ╣ЁЭЪДЁЭЪВЁЭЪГ ЁЭЪЖЁЭЩ░ЁЭЩ╜ЁЭЩ╜ЁЭЩ░ ЁЭЩ▒ЁЭЩ┤ ЁЭЪИЁЭЩ╛ЁЭЪДЁЭЪБЁЭЪВ ? ЁЯШМЁЯТЭ",
      " ЁЭЩ╕ ЁЭЪВЁЭЩ░ЁЭЪИ ЁЭЩ╕ ЁЭЩ╗ЁЭЩ╛ЁЭЪЕЁЭЩ┤ ЁЭЪИЁЭЩ╛ЁЭЪД ЁЭЩ╡ЁЭЩ╛ЁЭЪБЁЭЩ┤ЁЭЪЕЁЭЩ┤ЁЭЪБЁЯТЭЁЯР╝",
      "рзЯрж╛ржорж░рж╛ ржХрж┐ ржнржирзНржжрзБ рж╣рждрзЗ ржкрж╛рж░рж┐рж╣?? ржирж╛рж╣рзНрж▓рзЗ рждрж╛рж░ ржерзЗржХрзЗ ржмрзЗрж╕рж┐ ржХрж┐ржЪрзБ??ЁЯШЛ",
      " ЁЭЪИЁЭЪДЁЭЩ╝ЁЭЩ╝ЁЭЪИ ЁЭЩ▒ЁЭЩ▒ЁЭЪИ ЁЭЪИЁЭЩ╛ЁЭЪД ЁЭЩ░ЁЭЪБЁЭЩ┤ ЁЭЪВЁЭЩ╛ ЁЭЪВЁЭЪЖЁЭЩ┤ЁЭЩ┤ЁЭЪГЁЯШЛЁЯдд",
      "ЁЭЩ░ЁЭЪМЁЭЩ▓ЁЭЩ▓ЁЭЩ░ЁЭЩ╖ ЁЭЩ▒ЁЭЩ╛ЁЭЩ╗ЁЭЩ╛ ЁЭЩ░ЁЭЩ╝ЁЭЩ║ЁЭЩ┤ ЁЭЩ╗ЁЭЩ░ЁЭЩ╢ЁЭЩ▒ЁЭЩ┤ ЁЭЩ╜ЁЭЩ░ЁЭЩ║ЁЭЩ╕ ЁЭЪБЁЭЪДЁЭЪВЁЭЪВЁЭЩ╕ЁЭЩ░ЁЭЩ╜ ?",
      "рждрзЛрж░ рж╕рж╛ржерзЗ ржХржерж╛ ржирж╛ржЗ ржХрж╛рж░ржг рждрзБржЗ ржЕржирзЗржХ рж▓рзБржЪрзНржЪрж╛",
      " ржПржЗржЦрж╛ржирзЗ рж▓рзБржЪрзНржЪрж╛ржорж┐ ржХрж░рж▓рзЗ рж▓рж╛ржерж┐ ржжрж┐ржмрзЛ ржХрж┐ржирзНрждрзБ",
      "ржЖржорж╛ржХрзЗ ржЪрзБржорзБ ржжрж┐ржмрж┐ ЁЯлвЁЯжЛ",
      "рж╣рзЗрж╣рзЗ ржмрж╛ржмрзБ ржЖржорж╛рж░ ржХрж╛ржЫрзЗ ржЖрж╕рзЛ ЁЯШШЁЯТЛ",
      "ржЖржорж┐ рждрзЛржорж╛ржХрзЗ ржЕржирзЗржХ ржнрж╛рж▓рзЛржмрж╛рж╕рж┐ ржмрж╛ржмрзБЁЯе║ЁЯТЦ",
      "ЁЯжЛЁЭЧаЁЭЧоЁЭЧ╣ЁЯСАЁЯФк ржмржЯ ржПрж░ help list dekhte type koron %2help",
      "ржХрж┐рж░рзЗ ржмрж▓ржж рждрзБржЗ ржПржЗржЦрж╛ржирзЗ ЁЯЩВ",
      " ржЖржорж╛ржХрзЗD ржЪрж┐ржирзЛ ржирж╛ ржЬрж╛ржирзБ? ржоржирзБ",
      "hey bbe I'm your personal Based piw piw chatbot you ask me anything",
      "AR asbo na tor kache",
      "ржЖржорж╛ржХрзЗ ржбрж╛ржХрж▓рзЗ ,ржЖржорж┐ ржХрж┐ржирзНрждрзБ ЁЭРКЁЭРвЁЭРмЁЭРм ржХрж░рзЗ ржжрж┐ржмрзЛ ЁЯШШ",
      "Hop beda dakos knЁЯе▓",
      "-рждрж╛ржмрж┐ржЬ ржХржЗрж░рж╛ рж╣ржЗрж▓рзЗржУ ржлрзНрж░рзЗржо ржПржХрзНржХрж╛ржи ржХрж░ржорзБржЗ рждрж╛рждрзЗ ржпрж╛ рж╣ржЗ рж╣рзЛржХ-ЁЯдзЁЯе▒",
      " ржУржЗ ржорж╛ржорзА ржЖрж░ ржбрж╛ржХрж┐рж╕ ржирж╛ ржкрзНрж▓рж┐ржЬЁЯе▓",
      " рж╣рзНржпрж╛ ржмрж▓рзЛ, рж╢рзБржиржЫрж┐ ржЖржорж┐",
      "ржмрж▓рзЛ ржХрж┐ ржХрж░рждрзЗ ржкрж╛рж░рж┐ рждрзЛржорж╛рж░ ржЬржирзНржпЁЯШМ ",
      "ЁЭРБЁЭРиЁЭРн ржирж╛ ржЬрж╛ржирзБ,ржмрж▓рзЛ ржХрж╛рж░ржи ржЖржорж┐ рж╕рж┐ржВржЧрзЗрж▓ ЁЯШМ ",
      " I love you tunaЁЯе║ЁЯе╢",
      "Tuma dew xanuЁЯШНЁЯШШ ",
      " ржПржд ржХрж╛ржЫрзЗржУ ржПрж╕рзЛ ржирж╛,ржкрзНрж░рзЗржо ржП ржкрж░рзЗ ржпрж╛ржмрзЛ рждрзЛ ЁЯЩИ",
      " ржжрзЗржЦрж╛ рж╣рж▓рзЗ ржХрж╛ржаржЧрзЛрж▓рж╛ржк ржжрж┐ржУ..ЁЯдЧ",
      "ЁЭЧХЁЭЧ▓ЁЭШАЁЭЧ╡ЁЭЧ╢ ЁЭЧ▒ЁЭЧоЁЭЧ╕ЁЭЧ╣ЁЭЧ▓ ЁЭЧоЁЭЧ║ЁЭЧ║ЁЭШВ ЁЭЧпЁЭЧ╝ЁЭЧ╕ЁЭЧо ЁЭЧ▒ЁЭЧ▓ЁЭЧпЁЭЧо ЁЭШБЁЭЧ╝__ЁЯе║ ",
      "тАв-ржХрж┐рж░рзЗЁЯл╡ рждрж░рж╛ ржирж╛ржХрж┐  prem ржХрж░рж╕..ЁЯШРЁЯР╕тАвржЖржорж╛рж░рзЗ ржПржХржЯрж╛ ржХрж░рж╛ржЗ ржжрж┐рж▓рзЗ ржХрж┐ рж╣ржпрж╝-ЁЯе║ ",
      "Bolo Babu, рждрзБржорж┐ ржХрж┐ ржЖржорж╛ржХрзЗ ржнрж╛рж▓рзЛржмрж╛рж╕рзЛ? ЁЯЩИЁЯТЛ ",
      "Single taka ki oporadЁЯе║ ",
      " Premer mora jole duve naЁЯШЫ",
      "Ufff matha gorom kore disosЁЯШТ ",
      "Boss Gojo orupe piw piw er chipayЁЯШЬ ",
      "bashi dakle boss Didar ke bole dimuЁЯШТ ",
      "Xhipay atke gaci janЁЯе▓ ",
      "Washroom aЁЯдг ",
      "bado maser kawwa police amar sawwaЁЯШЮ ",
      "I am single plz distrab meЁЯе║ЁЯе▓ ",
      "ЁЭЧоЁЭЧ║ЁЭЧ╢ ЁЭЧпЁЭЧ╝ЁЭШБ ЁЭЧ╗ЁЭЧо ЁЭЧоЁЭЧ║ЁЭЧоЁЭЧ╕ЁЭЧ▓ ЁЭЧпЁЭЧпЁЭШЖ ЁЭЧпЁЭЧ╝ЁЭЧ╣ЁЭЧ╝ ЁЭЧпЁЭЧпЁЭШЖ!!ЁЯШШ ",
      "ЁЯН║ ржПржЗ ржирж╛ржУ ржЬрзБрж╕ ржЦрж╛ржУ..!ЁЭЧХЁЭЧпЁЭШЖ ржмрж▓рждрзЗ ржмрж▓рждрзЗ рж╣рж╛ржкрж╛ржпрж╝ ржЧрзЗржЫрзЛ ржирж╛ ЁЯе▓ ",
      "ЁЭЧЫЁЭЧ╢ЁЭЧ╢ ЁЭЧ╢ ЁЭЧоЁЭЧ║ ЁЭЧ╜ЁЭЧ╢ЁЭШД ЁЭЧ╜ЁЭЧ╢ЁЭШД ЁЭЧ░ЁЭЧ╡ЁЭЧоЁЭШБ ЁЭЧпЁЭЧ╝ЁЭШБ ЁЭЧ░ЁЭЧоЁЭЧ╗ ЁЭЧ╢ ЁЭЧ╡ЁЭЧ▓ЁЭЧ╣ЁЭЧ╜ ЁЭШЖЁЭЧ╝ЁЭШВ!ЁЯдЦ ",
      "ЁЭЧ▓ЁЭШБЁЭЧ╝ ЁЭЧпЁЭЧ╝ЁЭШБ ЁЭЧпЁЭЧ╝ЁЭШБ ЁЭЧ╗ЁЭЧо ЁЭЧ╕ЁЭЧ╝ЁЭЧ┐ЁЭЧ▓ ЁЭШБЁЭЧоЁЭЧ╕ЁЭЧо ЁЭЧ╝ ЁЭШБЁЭЧ╝ ЁЭЧ╜ЁЭЧоЁЭЧзЁЭЧ╡ЁЭЧоЁЭШБЁЭЧ▓ ЁЭЧ╜ЁЭЧоЁЭЧ┐ЁЭЧ╝ЁЯШТЁЯе│ЁЯе│ ",
      "ЁЭШБЁЭЧ╝ЁЭЧ┐ЁЭЧ▓ ЁЭЧ║ЁЭЧоЁЭЧ┐ЁЭЧоЁЭЧ┐ ЁЭЧ╜ЁЭЧ┐ЁЭЧ▓ЁЭЧ╜ЁЭЧ▓ЁЭЧ┐ЁЭЧоЁЭШБЁЭЧ╢ЁЭЧ╝ЁЭЧ╗ ЁЭЧ╗ЁЭЧ╢ЁЭЧ░ЁЭЧ╡ЁЭЧ╢...!!.ЁЯлб ",
      "ЁЭШВЁЭЧ║ЁЭЧ║ЁЭЧоЁЭЧ╡ ЁЭЧ▒ЁЭЧ╢ЁЭЧ╣ЁЭЧ▓ ЁЭЧ╣ЁЭЧ╝ЁЭШГЁЭЧ▓ ЁЭШЖЁЭЧ╝ЁЭШВ ЁЭЧ╕ЁЭЧ╝ЁЭЧ║ЁЭШВ ЁЭЧ╕ЁЭЧ╢ЁЭЧ╗ЁЭЧзЁЭШВЁЯШС ",
      " ржЖржорж╛ржХрзЗ ржбрж╛ржХрж▓рзЗ ,ржЖржорж┐ ржХрж┐ржирзНрждрзБ ЁЭРКЁЭРвЁЭРмЁЭРм ржХрж░рзЗ ржжрж┐ржмрзЛ ЁЯШШ",
      " Bal falawЁЯШй",
      "Tapraiya dat falai demuЁЯе┤ ",
      "HeЁЯддbolo amar jan kmn asoЁЯдн ",
      "Hmmm jan ummmmmmahЁЯлг ",
      "Chup kor ato bot bot koros knЁЯШм ",
      "Yes sir/memЁЯШН ",
      "AssalamualikumтШ║я╕ПЁЯТЦ ",
      "WalaikumsalamЁЯШлЁЯдУ ",
      "Chaiya takos kn ki kobi koooтШ╣я╕П ",
      "Onek boro beyadop re tuiЁЯШТ ",
    ];

    const rand = messages[Math.floor(Math.random() * messages.length)];

    if (event.body.toLowerCase() === "ЁЯЩВ" || event.body.toLowerCase() === "ЁЯС╜") {
      return api.sendMessage("-  ЁЭРФЁЭРЯЁЭРЯ'ЁЭРм ЁЭРАЁЭРжЁЭРЪЁЭРл ЁЭРБЁЭРЪЁЭРЫЁЭРо ЁЭРУЁЭРЪЁЯРе", "- ржЗрж╕рж╕ ржЖржорж╛рж░ рж╕рзЛржирж╛ ржмрж╛ржмрзБ ржЯрж╛ ЁЯЩК", threadID);
    }

    if (event.body.toLowerCase().startsWith("bot") || event.body.toLowerCase() === "Bot") {
      const msg = {
        body: `${rand}`,
      };
      return api.sendMessage(msg, threadID, messageID);
    }
  },
};
